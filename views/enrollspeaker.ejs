<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>RingCentral Smart Transcription</title>
    <link href="./img/favicon.png" type="image/vnd.microsoft.icon" rel="shortcut icon">
    <link href="./img/favicon.png" type="image/vnd.microsoft.icon" rel="icon">
    <script src="js/jquery-3.1.0.min.js"></script>
    <script src="js/enrollspeaker.js" type="text/javascript"></script>

    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <!--link rel="stylesheet" href="css/bootstrap.min.css"-->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <link rel="stylesheet" type="text/css" href="css/ui.css">
    <script>
      window.extensionId = <%- extensionId %>
    </script>
</head>
<body onload="init()">
  <nav class="navbar navbar-default no-border">
    <span class="left-middle-align">
      <span class="rclogo"><a href="/"><img alt="Brand" src="img/ringcentral-labs.png" height="40"></a></span>&nbsp;&nbsp;
      <span class="title rc-orange">Smart Transcription</span>
    </span>
    <ul class="nav navbar-nav navbar-left left-align-nav">
      <li><a href="/readlog">Imports</a></li>
      <li><a href="/recordedcalls">Data List</a></li>
      <li class="active"><a href="/enrollspeaker">Speaker Enrollment</a></li>
    </ul>
    <ul class="nav navbar-nav navbar-right middle-align">
      <li><span><b><%- userName %>&nbsp;&nbsp;</b></span></li>
      <li><a href="/about">&nbsp;&nbsp;About</a></li>
      <li><span>&nbsp;&nbsp;|&nbsp;&nbsp;</span></li>
      <li><a href="/logout">Logout</a></li>
    </ul>
  </nav>
  <section id='content'>
    <div>Enroll your voice identification. Currently only supported on Chrome browser!</div>
    <div class="row table-content">
      <div class="col-xs-12">
        <div class='col-sm-5'>
          <div><b>Click the 'Record' button on the righ-hand side and speak to the microphone for about 30 seconds. Click the 'Stop' button and listen to your recording and check the length of the recording to make sure it is not too long. Click the 'Start Enrollment' button and wait for the result.</b></div>
          <div>Note:</div>
          <ul>
            <li>You can click the button below and read the sample text in each paragraph fluently within 30 seconds. After reading each paragraph, click the <b>Stop</b> button and enroll your speaker id.</li>
          </ul>
          <input type='button' class="btn-rc" value='Show sample text' id='sample-text-btn' onclick="showSampleText()"/>
          <div id="sample-text" style="display: none">
            <div>-------------</div>
            <p>The RingCentral Artificial Intelligence API helps developers process and extract conversational insights from audio and video binany files. This not only includes creating a transcript in paragraphs with punctuations, but also analyzes the conversations to provide emotion analysis, speaker identification, and speaker diarization. It also aids in the extraction and generation of key content, like content summaries and action items.<div>We invite all developers to try out our Artificial Intelligence API by joining our beta program.</div></p>
            <div>-------------</div>
            <p>Coordinating information within a clinic is a valuable means of keeping things efficient. This can be done with the RingCentral platform as it can be integrated with other systems through API calls. One such case would be to have a system react to incoming calls in a way that offers the caller’s information to the call receiver while the call is ringing.</p>
            <div>-------------</div>
            <p>Having pertinent information readily available when clients call is important and valuable. This can be accomplished with the RingCentral platform as it can be integrated with other systems through API calls. One example would be to have a system react to incoming calls in a way that provides the caller’s information to the call receiver while the call is ringing. This will allow the receiver to know what the call is likely about and have the most recent information at hand if the call should be forwarded on to a right agent.</p>
            <div>-------------</div>
            <p>Have Automator watch for and react to incoming triggers like missed calls, SMS messages received after hours, SMS replies when you are out of the office, keywords found within incoming messages. More complex triggers are also available like exact matches to the phone number of an incoming SMS message or checking the content of an incoming message for exact text content. You can also react to incoming chat messages, calls received or ended, and voice messages received.</p>
            <div>*************</div>
          </div>
          <div><b>Repeat the enrollment process several times to reach a high enrollment quality and the enrollment total duration should be greater than 200 seconds.</b></div>
        </div>
        <div class='col-sm-1'></div>
        <div class='col-sm-3'>
            <p>
              <button type="button" id="startRecord" onclick="startRecording()">Record</button>
              <button type="button" id="stopRecord" onclick="stopRecording()" disabled>Stop</button>
            </p>
            <p>
              <audio id="recordedAudio"></audio>
            </p>
            <p>
              <button type="button" id="enroll-btn" style="display: none"  onclick="startEnrollment()">Start Enrollment</button>
            </p>
        </div>
        <div class='col-sm-3'>
            <div><b>Current speaker enrollment info</b></div>
            <div id='enrollment-info'></div>
            <button type="button" id="delete-btn" style="display: none" onclick="deleteEnrollment()">Delete Enrollment</button>
        </div>
      </div>
    </div>
  </section>
</body>
</html>
